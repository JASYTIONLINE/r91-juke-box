<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DigiPort Jukebox ‚Äì Site Map</title>

  <!-- This meta tag marks this page as eligible for inclusion in the sitemap -->
  <meta name="sitemap" content="include" />

  <!-- ---------------------------------------------------------------
     CSS Dependencies: Bootstrap + Custom Theme
     ---------------------------------------------------------------
     We include Bootstrap for layout and responsive behavior,
     and then layer your custom red/gold styles on top of it.
  -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="/assets/css/custom.css" />

  <!-- ---------------------------------------------------------------
     Custom Styling for the Sitemap Layout
     ---------------------------------------------------------------
     These rules are specific to the sitemap page layout:
     - Restrict max width to 1920px
     - Define a responsive grid that wraps links
     - Customize link appearance to match your theme
  -->
  <style>
    /* Set the outermost page content to max 1920px, centered */
    .sitemap-container {
      max-width: 1920px;
      margin: 0 auto;
    }

    /* Each sitemap link should look like a clean text link */
    .sitemap-link {
      display: inline-block;
      margin: 0.25rem 0;
      color: var(--bs-warning); /* uses your gold theme */
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s ease;
    }

    .sitemap-link:hover {
      text-decoration: underline;
      color: #ffd700; /* brighter gold hover */
    }

    /* This grid defines the visual layout of the links:
       - Each link is placed in its own column
       - On wider screens, we allow up to 8 columns
       - On smaller screens, Bootstrap auto-wraps as needed
    */
    .sitemap-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 0.5rem 2rem;
      justify-content: start;
    }

    @media (min-width: 1200px) {
      .sitemap-grid {
        grid-template-columns: repeat(8, 1fr); /* fixed 8 per row at large width */
      }
    }
  </style>
</head>

<body>

  <!-- ---------------------------------------------------------------
     TOP NAVIGATION BAR (Cloned from index.html)
     ---------------------------------------------------------------
     This nav bar must match your homepage *exactly*, including:
     - Brand on the left
     - Icon-labeled nav links on the right
     - Bootstrap responsive toggle
  -->
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
      <a class="navbar-brand fw-bold text-gold" href="/index.html">üéµ Jukebox Home</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <!-- Label inside nav bar (not clickable) -->
          <li class="nav-item d-flex align-items-center px-2">
            <span class="fw-bold text-gold" style="cursor: default; user-select: none;">Navigation:</span>
          </li>
          <!-- Icon-labeled navigation links -->
          <li class="nav-item"><a class="nav-link" href="/content/video/">üé¨ Music Videos</a></li>
          <li class="nav-item"><a class="nav-link" href="/content/audio/">üéß Audio Library</a></li>
          <li class="nav-item"><a class="nav-link" href="/content/karaoke/">üé§ Karaoke Lounge</a></li>
          <li class="nav-item"><a class="nav-link" href="/content/band/">ü•Å Band Practice</a></li>
          <li class="nav-item"><a class="nav-link" href="/content/sitemap.html">üó∫Ô∏è Site Map</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- ---------------------------------------------------------------
     PAGE HEADER: Matches Hero Style
     ---------------------------------------------------------------
     This follows the structure of your homepage ‚Äúwelcome card,‚Äù
     but simplified for the current context.
  -->
  <header class="text-center py-5 jukebox-card">
    <h1 class="text-gold fw-bold">üó∫Ô∏è Site Map</h1>
    <p class="text-muted">Browse all major pages of the DigiPort Jukebox.</p>
  </header>

  <!-- ---------------------------------------------------------------
     MAIN CONTENT AREA: Contains Link Grid
     ---------------------------------------------------------------
     All links are inserted into this card by the JavaScript below.
     This is where the site map lives ‚Äî clean, clickable links only.
  -->
  <main class="container sitemap-container py-5">
    <section class="jukebox-card p-4">
      <div class="sitemap-grid" id="sitemapLinks">
        <!-- This area will be populated dynamically via JS -->
      </div>
    </section>
  </main>

  <!-- ---------------------------------------------------------------
     FOOTER SECTION (Matches index.html)
     ---------------------------------------------------------------
     Footer buttons: Site Map + Style Guide (left), external DigiPortAI link (right)
  -->
  <footer class="site-footer py-3">
    <section class="container d-flex flex-column flex-md-row justify-content-between align-items-center">
      <section class="mb-2 mb-md-0">
        <a href="/content/sitemap.html" class="btn btn-outline-warning btn-sm me-2">üó∫Ô∏è Site Map</a>
          </section>
      <a href="https://jasytionline.github.io/" target="_blank" class="btn btn-warning fw-bold">DigiPortAI.com</a>
    </section>
  </footer>

  <!-- ---------------------------------------------------------------
     BOOTSTRAP JS (For responsive nav toggling)
     --------------------------------------------------------------- -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- ---------------------------------------------------------------
     SITEMAP LOADER SCRIPT
     ---------------------------------------------------------------
     This JavaScript block loads your generated site structure
     from the exported `tree.json` file and inserts only the
     pages marked with `"sitemap": true`.
  -->
  <script>
    fetch('/assets/data/tree.json') // Load JSON sitemap file
      .then(res => res.json())
      .then(tree => {
        const flatPages = [];

        // -------------------------------------
        // Recursive function to flatten all pages
        // -------------------------------------
        // This walks through the JSON hierarchy and collects
        // all nodes that contain `"sitemap": true`, flattening
        // them into a single list of valid pages.
        function traverse(node) {
          if (node.children) {
            node.children.forEach(traverse);
          } else if (node.sitemap) {
            flatPages.push({
              path: node.path,                // Relative link path (e.g. "content/audio/index.html")
              title: node.title || node.name  // Prefer the title from the page, fallback to filename
            });
          }
        }

        traverse(tree); // Start recursive traversal from root

        // -------------------------------------
        // Inject links into the page
        // -------------------------------------
        // This takes each page and creates a clickable <a>
        // element that‚Äôs inserted into the grid above.
        const container = document.getElementById('sitemapLinks');

        flatPages.forEach(page => {
          const link = document.createElement('a');
          link.href = `/${page.path}`; // Important: prepend leading slash
          link.textContent = page.title;
          link.className = 'sitemap-link';
          container.appendChild(link);
        });
      })
      .catch(err => {
        // Handle failure case gracefully ‚Äî show a user-visible error
        console.error('‚ùå Error loading sitemap data:', err);
        document.getElementById('sitemapLinks').innerHTML =
          '<p class="text-danger">‚ö†Ô∏è Failed to load sitemap data. Check your tree.json path.</p>';
      });
  </script>

</body>

</html>
